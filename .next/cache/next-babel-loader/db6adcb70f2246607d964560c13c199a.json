{"ast":null,"code":"var _jsxFileName = \"/home/stephen/Desktop/Taras web app/frontend-nextjs/components/Map.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Component } from 'react';\nimport ReactMapGL from 'react-map-gl';\n\nclass Map extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      viewport: {\n        width: '100vw',\n        height: '100vh',\n        latitude: 38.9868,\n        longitude: -77.0325,\n        zoom: 13,\n        geojson: {}\n      }\n    });\n  }\n\n  componentDidMount() {\n    const map = this.reactMap.getMap();\n    map.on('load', () => {\n      fetch('http://localhost:3001/taras/coordinates/geojson').then(res => res.json()).then(data => this.displayDataOnMap({\n        \"type\": \"geojson\",\n        \"data\": {\n          \"type\": \"Feature\",\n          \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [-77.0323, 38.9131]\n          },\n          \"properties\": {\n            \"title\": \"Mapbox DC\",\n            \"marker-symbol\": \"monument\"\n          }\n        }\n      }));\n    });\n  }\n\n  displayDataOnMap(geojson) {\n    map.addSource('crash-data', geojson);\n    map.addLayer({\n      'id': 'points',\n      'type': 'symbol',\n      'source': 'crash-data',\n      'layout': {\n        'icon-image': 'custom-marker',\n        // get the title name from the source's \"title\" property\n        'text-field': ['get', 'title'],\n        'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n        'text-offset': [0, 1.25],\n        'text-anchor': 'top'\n      }\n    });\n  }\n\n  render() {\n    return __jsx(ReactMapGL, _extends({\n      ref: reactMap => this.reactMap = reactMap,\n      mapStyle: \"mapbox://styles/mapbox/streets-v9\",\n      mapboxApiAccessToken: \"pk.eyJ1IjoieW9tYW40NyIsImEiOiJjampxM2g3YjUyMzFyM3ZvMXNjZ2R3d2ZtIn0.r0zXd8hAqa1haG3lkjlDwA\",\n      onViewportChange: viewport => this.setState({\n        viewport\n      })\n    }, this.state.viewport, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["/home/stephen/Desktop/Taras web app/frontend-nextjs/components/Map.js"],"names":["Component","ReactMapGL","Map","viewport","width","height","latitude","longitude","zoom","geojson","componentDidMount","map","reactMap","getMap","on","fetch","then","res","json","data","displayDataOnMap","addSource","addLayer","render","setState","state"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,GAAN,SAAkBF,SAAlB,CAA4B;AAAA;AAAA;;AAAA,mCAClB;AACNG,MAAAA,QAAQ,EAAE;AACRC,QAAAA,KAAK,EAAE,OADC;AAERC,QAAAA,MAAM,EAAE,OAFA;AAGRC,QAAAA,QAAQ,EAAE,OAHF;AAIRC,QAAAA,SAAS,EAAE,CAAC,OAJJ;AAKRC,QAAAA,IAAI,EAAE,EALE;AAMRC,QAAAA,OAAO,EAAE;AAND;AADJ,KADkB;AAAA;;AAY1BC,EAAAA,iBAAiB,GAAG;AAElB,UAAMC,GAAG,GAAG,KAAKC,QAAL,CAAcC,MAAd,EAAZ;AAEAF,IAAAA,GAAG,CAACG,EAAJ,CAAO,MAAP,EAAe,MAAM;AACjBC,MAAAA,KAAK,CAAC,iDAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMG,IAAI,IAAI,KAAKC,gBAAL,CAAsB;AAChC,gBAAQ,SADwB;AAEhC,gBAAQ;AACR,kBAAQ,SADA;AAER,sBAAY;AACZ,oBAAQ,OADI;AAEZ,2BAAe,CAAC,CAAC,OAAF,EAAW,OAAX;AAFH,WAFJ;AAMR,wBAAc;AACd,qBAAS,WADK;AAEd,6BAAiB;AAFH;AANN;AAFwB,OAAtB,CAFd;AAeH,KAhBD;AAmBD;;AAEDA,EAAAA,gBAAgB,CAACX,OAAD,EAAS;AAEvBE,IAAAA,GAAG,CAACU,SAAJ,CAAc,YAAd,EAA2BZ,OAA3B;AAEAE,IAAAA,GAAG,CAACW,QAAJ,CAAa;AACT,YAAM,QADG;AAET,cAAQ,QAFC;AAGT,gBAAU,YAHD;AAIT,gBAAU;AACV,sBAAc,eADJ;AAEV;AACA,sBAAc,CAAC,KAAD,EAAQ,OAAR,CAHJ;AAIV,qBAAa,CACb,oBADa,EAEb,uBAFa,CAJH;AAQV,uBAAe,CAAC,CAAD,EAAI,IAAJ,CARL;AASV,uBAAe;AATL;AAJD,KAAb;AAkBD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE,MAAC,UAAD;AACE,MAAA,GAAG,EAAGX,QAAD,IAAc,KAAKA,QAAL,GAAgBA,QADrC;AAEE,MAAA,QAAQ,EAAC,mCAFX;AAGE,MAAA,oBAAoB,EAAC,2FAHvB;AAIE,MAAA,gBAAgB,EAAGT,QAAD,IAAc,KAAKqB,QAAL,CAAc;AAAErB,QAAAA;AAAF,OAAd;AAJlC,OAKM,KAAKsB,KAAL,CAAWtB,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AASD;;AAvEyB;;AA0E5B,eAAeD,GAAf","sourcesContent":["import { Component } from 'react';\nimport ReactMapGL from 'react-map-gl';\n\nclass Map extends Component {\n  state = {\n    viewport: {\n      width: '100vw',\n      height: '100vh',\n      latitude: 38.9868,\n      longitude: -77.0325,\n      zoom: 13,\n      geojson: {}\n    }\n  };\n\n  componentDidMount() {\n\n    const map = this.reactMap.getMap(); \n\n    map.on('load', () => {\n        fetch('http://localhost:3001/taras/coordinates/geojson')\n        .then(res => res.json())\n        .then(data => this.displayDataOnMap({\n            \"type\": \"geojson\",\n            \"data\": {\n            \"type\": \"Feature\",\n            \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [-77.0323, 38.9131]\n            },\n            \"properties\": {\n            \"title\": \"Mapbox DC\",\n            \"marker-symbol\": \"monument\"\n            }\n            }}));\n    })\n\n    \n  }\n\n  displayDataOnMap(geojson){\n\n    map.addSource('crash-data',geojson)\n\n    map.addLayer({\n        'id': 'points',\n        'type': 'symbol',\n        'source': 'crash-data',\n        'layout': {\n        'icon-image': 'custom-marker',\n        // get the title name from the source's \"title\" property\n        'text-field': ['get', 'title'],\n        'text-font': [\n        'Open Sans Semibold',\n        'Arial Unicode MS Bold'\n        ],\n        'text-offset': [0, 1.25],\n        'text-anchor': 'top'\n        }\n        });\n        \n\n  }\n\n  render() {\n    return (\n      <ReactMapGL\n        ref={(reactMap) => this.reactMap = reactMap}\n        mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n        mapboxApiAccessToken=\"pk.eyJ1IjoieW9tYW40NyIsImEiOiJjampxM2g3YjUyMzFyM3ZvMXNjZ2R3d2ZtIn0.r0zXd8hAqa1haG3lkjlDwA\"\n        onViewportChange={(viewport) => this.setState({ viewport })}\n        {...this.state.viewport}\n      />\n    );\n  }\n}\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}