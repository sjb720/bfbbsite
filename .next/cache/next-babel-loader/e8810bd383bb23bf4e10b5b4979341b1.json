{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/stephen/Desktop/BFBB_Client/bfbb-site/components/AddArea.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useRouter } from 'next/router';\nimport fetch from 'node-fetch';\nimport { DropdownButton, Dropdown, Button, Container, Image, Badge, Card, Accordion, FormControl } from 'react-bootstrap';\nimport BACKEND_URL from './backendurl.js';\nimport ScrollAnimation from 'react-animate-on-scroll';\n\nvar AddArea = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddArea, _React$Component);\n\n  var _super = _createSuper(AddArea);\n\n  function AddArea(props) {\n    var _this;\n\n    _classCallCheck(this, AddArea);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      levels: [],\n      level: \"\",\n      name: \"\",\n      internal_name: \"\",\n      sock_count: null,\n      spatula_count: null\n    };\n    return _this;\n  }\n\n  _createClass(AddArea, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getLevels();\n    }\n  }, {\n    key: \"getLevels\",\n    value: function getLevels() {\n      var _this2 = this;\n\n      {\n        fetch(BACKEND_URL + 'bfbb-site/levels').then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          if (data.success == true) {\n            _this2.setState({\n              levels: data.info,\n              level: data.info[0].name\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addArea\",\n    value: function addArea() {\n      var _this3 = this;\n\n      var data = {\n        name: this.state.name,\n        level: this.state.level,\n        internal_name: this.state.internal_name,\n        sock_count: this.state.sock_count,\n        spatula_count: this.state.spatula_count\n      };\n      var options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      fetch(BACKEND_URL + 'bfbb-site/login', options).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {\n          _this3.setState({\n            authorized: true,\n            token: data.token\n          });\n\n          window.sessionStorage.setItem(\"username\", _this3.state.username);\n          window.sessionStorage.setItem(\"token\", data.token);\n\n          _this3.getData();\n        } else {\n          console.log(data.error);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }\n      }, __jsx(Dropdown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, __jsx(Dropdown.Toggle, {\n        variant: \"primary\",\n        id: \"dropdown-basic\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, this.state.level), __jsx(Dropdown.Menu, {\n        style: {\n          position: \"relative\",\n          zIndex: 10000\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, this.state.levels.map(function (level) {\n        return __jsx(Dropdown.Item, {\n          onClick: function onClick() {\n            return _this4.setState({\n              level: level.name\n            });\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }\n        }, level.name);\n      }))), __jsx(FormControl, {\n        onChange: function onChange(e) {\n          return _this4.setState({\n            name: e.target.value\n          });\n        },\n        value: this.state.name,\n        placeholder: \"Name\",\n        \"aria-label\": \"Name\",\n        \"aria-describedby\": \"basic-addon1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }), __jsx(FormControl, {\n        onChange: function onChange(e) {\n          return _this4.setState({\n            internal_name: e.target.value.toUpperCase()\n          });\n        },\n        value: this.state.internal_name,\n        placeholder: \"Internal Name (ie; HB01, HB02, JF01, etc)\",\n        \"aria-label\": \"Name\",\n        \"aria-describedby\": \"basic-addon1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }), __jsx(FormControl, {\n        onChange: function onChange(e) {\n          return _this4.setState({\n            sock_count: isNaN(parseInt(e.target.value)) ? 0 : parseInt(e.target.value)\n          });\n        },\n        value: this.state.sock_count,\n        placeholder: \"Sock count\",\n        \"aria-label\": \"Sock count\",\n        \"aria-describedby\": \"basic-addon1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }), __jsx(FormControl, {\n        onChange: function onChange(e) {\n          return _this4.setState({\n            spatula_count: isNaN(parseInt(e.target.value)) ? 0 : parseInt(e.target.value)\n          });\n        },\n        value: this.state.spatula_count,\n        placeholder: \"Spatula Count\",\n        \"aria-label\": \"Spatula Count\",\n        \"aria-describedby\": \"basic-addon1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }), __jsx(Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, \"Add area\"));\n    }\n  }]);\n\n  return AddArea;\n}(React.Component);\n\nexport { AddArea as default };","map":{"version":3,"sources":["/home/stephen/Desktop/BFBB_Client/bfbb-site/components/AddArea.js"],"names":["useRouter","fetch","DropdownButton","Dropdown","Button","Container","Image","Badge","Card","Accordion","FormControl","BACKEND_URL","ScrollAnimation","AddArea","props","state","levels","level","name","internal_name","sock_count","spatula_count","getLevels","then","res","json","data","success","setState","info","options","method","headers","body","JSON","stringify","authorized","token","window","sessionStorage","setItem","username","getData","console","log","error","position","zIndex","map","e","target","value","toUpperCase","isNaN","parseInt","React","Component"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router'\nimport fetch from 'node-fetch'\nimport { DropdownButton, Dropdown, Button, Container, Image, Badge, Card, Accordion, FormControl } from 'react-bootstrap'\nimport BACKEND_URL from './backendurl.js'\nimport ScrollAnimation from 'react-animate-on-scroll';\n\nexport default class AddArea extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            levels: [],\n            level: \"\",\n            name: \"\",\n            internal_name: \"\",\n            sock_count: null,\n            spatula_count: null\n        }\n    }\n\n    componentDidMount() {\n        this.getLevels();\n    }\n\n    getLevels() {\n        {\n\n            fetch(BACKEND_URL + 'bfbb-site/levels')\n                .then(res => res.json())\n\n                .then(data => {\n                    if (data.success == true) {\n                        this.setState({ levels: data.info, level: data.info[0].name })\n                    }\n                })\n\n\n        }\n    }\n\n    addArea() {\n        let data = { \n            name:this.state.name,\n            level:this.state.level,\n            internal_name:this.state.internal_name, \n            sock_count: this.state.sock_count,\n            spatula_count: this.state.spatula_count\n        }\n\n        let options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        }\n\n\n        fetch(BACKEND_URL + 'bfbb-site/login', options)\n            .then(res => res.json())\n            .then(data => {\n                if (data.success) {\n                    this.setState({ authorized: true, token: data.token })\n\n                    window.sessionStorage.setItem(\"username\", this.state.username)\n                    window.sessionStorage.setItem(\"token\", data.token)\n\n                    this.getData()\n                } else {\n                    console.log(data.error)\n                }\n            });\n    }\n\n\n    render() {\n        return (<div>\n            <Dropdown >\n                <Dropdown.Toggle variant=\"primary\" id=\"dropdown-basic\">\n                    {this.state.level}\n                </Dropdown.Toggle>\n                <Dropdown.Menu style={{ position: \"relative\", zIndex: 10000 }}>\n                    {this.state.levels.map(level =>\n                        <Dropdown.Item onClick={() => this.setState({ level: level.name })}>{level.name}</Dropdown.Item>\n                    )}\n                </Dropdown.Menu>\n            </Dropdown>\n\n            <FormControl\n                onChange={e => this.setState({ name: e.target.value })}\n                value={this.state.name}\n                placeholder=\"Name\"\n                aria-label=\"Name\"\n                aria-describedby=\"basic-addon1\"\n            />\n            <FormControl\n                onChange={e => this.setState({ internal_name: e.target.value.toUpperCase() })}\n                value={this.state.internal_name}\n                placeholder=\"Internal Name (ie; HB01, HB02, JF01, etc)\"\n                aria-label=\"Name\"\n                aria-describedby=\"basic-addon1\"\n            />\n            <FormControl\n                onChange={e => this.setState({ sock_count: isNaN(parseInt(e.target.value)) ? 0 : parseInt(e.target.value) })}\n                value={this.state.sock_count}\n                placeholder=\"Sock count\"\n                aria-label=\"Sock count\"\n                aria-describedby=\"basic-addon1\"\n            />\n            <FormControl\n                onChange={e => this.setState({ spatula_count: isNaN(parseInt(e.target.value)) ? 0 : parseInt(e.target.value) })}\n                value={this.state.spatula_count}\n                placeholder=\"Spatula Count\"\n                aria-label=\"Spatula Count\"\n                aria-describedby=\"basic-addon1\"\n            />\n            <Button>\n                Add area\n            </Button>\n        </div>);\n    }\n}"]},"metadata":{},"sourceType":"module"}