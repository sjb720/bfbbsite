{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/stephen/Desktop/BFBB_Client/frontend-nextjs/pages/blitz.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport axios from 'axios';\nimport BlitzBoard from '../components/BlitzBoard.js';\nimport { Button, InputGroup, FormControl, Container, Col, Row, Alert, Accordion, Card } from 'react-bootstrap'; //const BACKEND_IP = \"https://bfbbhub.herokuapp.com\";\n\nvar BACKEND_IP = \"http://172.16.127.245:3001\";\nvar POLLING_RATE_MILLI_SECONDS = 1000;\n\nvar Index = /*#__PURE__*/function (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  var _super = _createSuper(Index);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"collect\", function (collectable_name) {\n      var data = {\n        pid: _this.state.player_id,\n        rid: _this.state.room.id,\n        collectable_name: collectable_name,\n        secret: _this.state.secret\n      };\n      var options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      fetch(BACKEND_IP + '/blitz/collect', options).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.success) {//this.setState({collected:true});\n        }\n\n        console.log(data);\n      });\n    });\n\n    _this.state = {\n      board: {\n        tasks: []\n      },\n      room: null,\n      player_id: \"\",\n      rid_input: \"\",\n      display_name_input: \"\",\n      secret: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //Give the player an id\n      this.setState({\n        player_id: _toConsumableArray(Array(16)).map(function (i) {\n          return (~~(Math.random() * 36)).toString(36);\n        }).join('')\n      });\n    }\n  }, {\n    key: \"createRoomAndJoin\",\n    value: function createRoomAndJoin() {\n      var _this2 = this;\n\n      var data = {\n        pid: this.state.player_id,\n        dn: this.state.display_name_input\n      };\n      var options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      fetch(BACKEND_IP + '/blitz/createroom', options).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          room: data.room\n        });\n\n        _this2.setState({\n          secret: data.secret\n        }); //Get new room data\n\n\n        var interval = setInterval(function () {\n          _this2.refreshRoom();\n        }, POLLING_RATE_MILLI_SECONDS);\n      });\n    }\n  }, {\n    key: \"joinRoom\",\n    value: function joinRoom(rid) {\n      var _this3 = this;\n\n      var data = {\n        pid: this.state.player_id,\n        rid: rid,\n        dn: this.state.display_name_input\n      };\n      var options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      fetch(BACKEND_IP + '/blitz/joinroom', options).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this3.setState({\n          room: data\n        }); //Get new room data\n\n\n        var interval = setInterval(function () {\n          _this3.refreshRoom();\n        }, POLLING_RATE_MILLI_SECONDS);\n      });\n    } //Refreshes your room periodically\n\n  }, {\n    key: \"refreshRoom\",\n    value: function refreshRoom() {\n      var _this4 = this;\n\n      if (this.state.room == null) return; //whered the room go?\n\n      console.log(\"Getting new room data...\");\n      fetch(BACKEND_IP + '/blitz/getroom/' + this.state.room.id).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this4.setState({\n          room: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 7\n        }\n      }, this.state.room == null && __jsx(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }\n      }, __jsx(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }\n      }, \"BfBB Blitz\"), __jsx(\"h1\", {\n        style: {\n          textAlign: \"center\",\n          paddingTop: 100,\n          paddingBottom: 100\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }\n      }, \"Welcome to BfBB Blitz!\"), __jsx(InputGroup, {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, __jsx(InputGroup.Prepend, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }\n      }, __jsx(InputGroup.Text, {\n        id: \"basic-addon1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }, \"Display name\")), __jsx(FormControl, {\n        onChange: function onChange(e) {\n          return _this5.setState({\n            display_name_input: e.target.value\n          });\n        },\n        defaultValue: this.state.display_name_input,\n        placeholder: \"1 - 10 characters\",\n        \"aria-label\": \"1 - 10 characters\",\n        \"aria-describedby\": \"basic-addon1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      })), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }), __jsx(Button, {\n        disabled: this.state.display_name_input.length < 1,\n        variant: \"outline-primary\",\n        style: {\n          width: \"100%\",\n          marginBottom: 5\n        },\n        onClick: function onClick() {\n          return _this5.createRoomAndJoin();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }\n      }, \"Create Room\"), __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }\n      }), __jsx(InputGroup, {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }, __jsx(FormControl, {\n        onChange: function onChange(e) {\n          return _this5.setState({\n            rid_input: e.target.value\n          });\n        },\n        defaultValue: this.state.rid_input,\n        placeholder: \"Room ID\",\n        \"aria-label\": \"Recipient's username\",\n        \"aria-describedby\": \"basic-addon2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }), __jsx(InputGroup.Append, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }\n      }, __jsx(Button, {\n        disabled: this.state.display_name_input.length < 1,\n        variant: \"outline-primary\",\n        onClick: function onClick() {\n          return _this5.joinRoom(_this5.state.rid_input);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, \"Join Room\"))), __jsx(Accordion, {\n        defaultActiveKey: \"0\",\n        style: {\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, __jsx(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }\n      }, __jsx(Card.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }, __jsx(Accordion.Toggle, {\n        as: Button,\n        variant: \"link\",\n        eventKey: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 19\n        }\n      }, \"How to play\")), __jsx(Accordion.Collapse, {\n        eventKey: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }\n      }, __jsx(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 19\n        }\n      }, __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, \"Blitz is an intense speed game where up to 8 players compete to be the first to collect as many objects as possible.\"), __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, \"Rules\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }, \"The game begins when all players are ready. Everyone starts from the main menu one input away from creating a new game. Once ready, every player starts at the same time. When a player collects something, they simply click on the image to collect it. The picture can be clicked on anytime after the frame the player touched the objects. This means players that collect the object first don't neccesarily earn the points.\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }\n      }, \"Each object is worth a different amount of points.:\"), __jsx(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }, __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 23\n        }\n      }, \"Spatulas: 3 points\"), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 23\n        }\n      }, \"Socks: 2 points\")), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      }, \"The winner is determined after every object has been collected on the board. The winner is the player with the highest score. Players reserve the right to forfeit if they have no chance of winning.\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }, \"Certain in game cheats are allowed, see the list for more info.\"), __jsx(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 21\n        }\n      }, \"Strategy\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }\n      }, \"Maybe SpongeBob's closet isn't worth your time if you don't think you can be the first to get in. Know your limits and weigh if it's worth taking your opponents head on.\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }\n      }, \"Know your opponents and what spatulas they might go for. If your player is simply following the 100 percent route, try skipping ahead and beating them to the parts of the route they will eventually arrive at.\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }\n      }, \"Learn the board. The Socks and Spatulas are in level order.\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }\n      }, \"Competing head on for collectables is high risk high reward. If you get to it before your opponent, you have wasted their time. In a game with 8 players, it might be good to snipe the leaders collectables to prevent them from gaining an even bigger lead.\"), __jsx(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }\n      }, \"Mix it up. People will learn your favorite collectables and try to sabotage you through such.\")))), __jsx(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }\n      }, __jsx(Card.Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 17\n        }\n      }, __jsx(Accordion.Toggle, {\n        as: Button,\n        variant: \"link\",\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 19\n        }\n      }, \"Allowed in game cheats\")), __jsx(Accordion.Collapse, {\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      }, __jsx(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 19\n        }\n      }, \"The following IGC are allowed to be entered as many times or at any point during the game:\", __jsx(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }\n      }, __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 23\n        }\n      }, \"10 Gold Spatulas\"), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 23\n        }\n      }, \"1,000 Shiny Objects\"), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 23\n        }\n      }, \"Bubble Bowl Power\"), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 23\n        }\n      }, \"Cruise Bubble Power\"))))))), this.state.room != null && __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }\n      }, __jsx(\"title\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }\n      }, \"BfBB Blitz: Room \", this.state.room.id), __jsx(Alert, {\n        variant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }\n      }, this.state.room.players.length, \"/8 players. Invite more with: \", __jsx(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 77\n        }\n      }, this.state.room.id)), __jsx(BlitzBoard, {\n        pid: this.state.player_id,\n        room: this.state.room,\n        collect_function: this.collect,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }\n      })));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nexport { Index as default };","map":{"version":3,"sources":["/home/stephen/Desktop/BFBB_Client/frontend-nextjs/pages/blitz.js"],"names":["React","axios","BlitzBoard","Button","InputGroup","FormControl","Container","Col","Row","Alert","Accordion","Card","BACKEND_IP","POLLING_RATE_MILLI_SECONDS","Index","props","collectable_name","data","pid","state","player_id","rid","room","id","secret","options","method","headers","body","JSON","stringify","fetch","then","res","json","success","console","log","board","tasks","rid_input","display_name_input","setState","Array","map","i","Math","random","toString","join","dn","interval","setInterval","refreshRoom","textAlign","paddingTop","paddingBottom","e","target","value","length","width","marginBottom","createRoomAndJoin","joinRoom","color","players","collect","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport BlitzBoard from '../components/BlitzBoard.js'\nimport { Button, InputGroup, FormControl, Container, Col, Row, Alert, Accordion, Card } from 'react-bootstrap'\n\n//const BACKEND_IP = \"https://bfbbhub.herokuapp.com\";\nconst BACKEND_IP = \"http://172.16.127.245:3001\";\n\nconst POLLING_RATE_MILLI_SECONDS = 1000;\n\nexport default class Index extends React.Component {\n\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      board: { tasks: [] },\n      room: null,\n      player_id: \"\",\n      rid_input: \"\",\n      display_name_input: \"\",\n      secret: \"\",\n    }\n  }\n\n  collect  = (collectable_name) =>{\n\n    let data = { pid: this.state.player_id, rid: this.state.room.id, collectable_name: collectable_name, secret:this.state.secret }\n\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }\n\n\n    fetch(BACKEND_IP+'/blitz/collect', options)\n      .then(res => res.json())\n      .then(data => {\n        if (data.success){\n          //this.setState({collected:true});\n        }\n        console.log(data)\n      });\n  }\n\n  componentDidMount() {\n    //Give the player an id\n    this.setState({ player_id: [...Array(16)].map(i => (~~(Math.random() * 36)).toString(36)).join('') });\n\n  }\n\n  createRoomAndJoin() {\n\n    let data = { pid: this.state.player_id, dn: this.state.display_name_input }\n\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }\n\n\n    fetch(BACKEND_IP + '/blitz/createroom', options)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({ room: data.room })\n        this.setState({secret: data.secret})\n        //Get new room data\n        const interval = setInterval(() => {\n          this.refreshRoom();\n        }, POLLING_RATE_MILLI_SECONDS);\n      });\n  }\n\n  joinRoom(rid) {\n    let data = { pid: this.state.player_id, rid: rid, dn: this.state.display_name_input }\n\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }\n\n\n    fetch(BACKEND_IP + '/blitz/joinroom', options)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({ room: data })\n        //Get new room data\n        const interval = setInterval(() => {\n          this.refreshRoom();\n        }, POLLING_RATE_MILLI_SECONDS);\n      });\n  }\n\n  //Refreshes your room periodically\n  refreshRoom() {\n    if (this.state.room == null) return; //whered the room go?\n    console.log(\"Getting new room data...\")\n\n    fetch(BACKEND_IP + '/blitz/getroom/' + this.state.room.id)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({ room: data })\n      });\n  }\n\n\n  render() {\n    return (\n      <div>\n\n        {this.state.room == null &&\n          <Container>\n            <title>BfBB Blitz</title>\n            <h1 style={{textAlign:\"center\", paddingTop:100,paddingBottom:100}}>\n              Welcome to BfBB Blitz!\n            </h1>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"basic-addon1\">Display name</InputGroup.Text>\n              </InputGroup.Prepend>\n              <FormControl onChange={e => this.setState({ display_name_input: e.target.value })} defaultValue={this.state.display_name_input}\n                placeholder=\"1 - 10 characters\"\n                aria-label=\"1 - 10 characters\"\n                aria-describedby=\"basic-addon1\"\n              />\n            </InputGroup>\n            <br></br>\n            <Button disabled={this.state.display_name_input.length < 1} variant=\"outline-primary\" style={{ width: \"100%\", marginBottom: 5 }} onClick={() => this.createRoomAndJoin()}>Create Room</Button>\n            <br></br>\n            <InputGroup className=\"mb-3\">\n\n              <FormControl onChange={e => this.setState({ rid_input: e.target.value })} defaultValue={this.state.rid_input}\n                placeholder=\"Room ID\"\n                aria-label=\"Recipient's username\"\n                aria-describedby=\"basic-addon2\"\n              />\n              <InputGroup.Append>\n                <Button disabled={this.state.display_name_input.length < 1} variant=\"outline-primary\" onClick={() => this.joinRoom(this.state.rid_input)}>Join Room</Button>\n              </InputGroup.Append>\n            </InputGroup>\n\n            <Accordion defaultActiveKey=\"0\" style={{color:\"black\"}}>\n              <Card>\n                <Card.Header>\n                  <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n                    How to play\n                  </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"1\">\n                  <Card.Body>\n                    <p>\n                      Blitz is an intense speed game where up to 8 players compete to be the first to collect as many objects as possible.\n                    </p>\n                    <h2>\n                      Rules\n                    </h2>\n                    <p>\n                      The game begins when all players are ready. Everyone starts from the main menu one input away from creating a new game. Once\n                      ready, every player starts at the same time. When a player collects something, they simply click on the image to collect it.\n                      The picture can be clicked on anytime after the frame the player touched the objects. This means players that collect the object\n                      first don't neccesarily earn the points.\n                    </p>\n                    <p>\n                      Each object is worth a different amount of points.:\n                    </p>\n                    <ul>\n                      <li>Spatulas: 3 points</li>\n                      <li>Socks: 2 points</li>\n                    </ul>\n                    <p>\n                      The winner is determined after every object has been collected on the board. The winner is the player with the highest score. Players\n                      reserve the right to forfeit if they have no chance of winning.\n                    </p>\n                    <p>\n                      Certain in game cheats are allowed, see the list for more info.\n                    </p>\n                    <h2>\n                      Strategy\n                    </h2>\n                    <p>\n                      Maybe SpongeBob's closet isn't worth your time if you don't think you can be the first to get in. Know your limits and weigh if it's worth\n                      taking your opponents head on.\n                    </p>\n                    <p>\n                      Know your opponents and what spatulas they might go for. If your player is simply following the 100 percent route, try skipping ahead\n                      and beating them to the parts of the route they will eventually arrive at.\n                    </p>\n                    <p>\n                      Learn the board. The Socks and Spatulas are in level order.\n                    </p>\n                    <p>\n                      Competing head on for collectables is high risk high reward. If you get to it before your opponent, you have wasted their time. In\n                      a game with 8 players, it might be good to snipe the leaders collectables to prevent them from gaining an even bigger lead.\n                    </p>\n                    <p>\n                      Mix it up. People will learn your favorite collectables and try to sabotage you through such.\n                    </p>\n                    \n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n              <Card>\n                <Card.Header>\n                  <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\n                    Allowed in game cheats\n                  </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"2\">\n                  <Card.Body>\n                    The following IGC are allowed to be entered as many times or at any point during the game:\n                    <ul>\n                      <li>10 Gold Spatulas</li>\n                      <li>1,000 Shiny Objects</li>\n                      <li>Bubble Bowl Power</li>\n                      <li>Cruise Bubble Power</li>\n                    </ul>\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            </Accordion>\n\n          </Container>}\n        {this.state.room != null &&\n          <div>\n            <title>BfBB Blitz: Room {this.state.room.id}</title>\n            <Alert variant=\"primary\">\n              {this.state.room.players.length}/8 players. Invite more with: <b>{this.state.room.id}</b>\n            </Alert>\n            <BlitzBoard pid={this.state.player_id} room={this.state.room} collect_function={this.collect}></BlitzBoard>\n\n          </div>}\n\n\n\n\n      </div>\n\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}