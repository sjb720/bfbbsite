{"ast":null,"code":"var _jsxFileName = \"/home/stephen/Desktop/BFBB_Client/frontend-nextjs/pages/blitz.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport axios from 'axios';\nimport BlitzBoard from '../components/BlitzBoard.js';\nimport { Button, InputGroup, FormControl, Container, Col, Row, Alert, Accordion, Card } from 'react-bootstrap'; //const BACKEND_IP = \"https://bfbbhub.herokuapp.com\";\n\nconst BACKEND_IP = \"http://172.16.127.245:3001\";\nconst POLLING_RATE_MILLI_SECONDS = 1000;\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"collect\", collectable_name => {\n      let data = {\n        pid: this.state.player_id,\n        rid: this.state.room.id,\n        collectable_name: collectable_name,\n        secret: this.state.secret\n      };\n      let options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      fetch(BACKEND_IP + '/blitz/collect', options).then(res => res.json()).then(data => {\n        if (data.success) {\n          this.setState({\n            room: data.room\n          });\n        }\n\n        console.log(data);\n      });\n    });\n\n    this.state = {\n      board: {\n        tasks: []\n      },\n      room: null,\n      player_id: \"\",\n      rid_input: \"\",\n      room_password_input: \"\",\n      display_name_input: \"\",\n      secret: \"\"\n    };\n  }\n\n  componentDidMount() {\n    //Give the player an id\n    this.setState({\n      player_id: [...Array(16)].map(i => (~~(Math.random() * 36)).toString(36)).join('')\n    });\n  }\n\n  createRoomAndJoin() {\n    let data = {\n      pid: this.state.player_id,\n      dn: this.state.display_name_input\n    };\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(BACKEND_IP + '/blitz/createroom', options).then(res => res.json()).then(data => {\n      this.setState({\n        room: data.room\n      });\n      this.setState({\n        secret: data.secret\n      }); //Get new room data\n\n      const interval = setInterval(() => {\n        this.refreshRoom();\n      }, POLLING_RATE_MILLI_SECONDS);\n    });\n  }\n\n  joinRoom(rid) {\n    let data = {\n      pid: this.state.player_id,\n      rid: rid,\n      dn: this.state.display_name_input\n    };\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    fetch(BACKEND_IP + '/blitz/joinroom', options).then(res => res.json()).then(data => {\n      this.setState({\n        room: data.room\n      });\n      this.setState({\n        secret: data.secret\n      }); //Get new room data\n\n      const interval = setInterval(() => {\n        this.refreshRoom();\n      }, POLLING_RATE_MILLI_SECONDS);\n    });\n  } //Refreshes your room periodically\n\n\n  refreshRoom() {\n    if (this.state.room == null) return; //whered the room go?\n\n    console.log(\"Getting new room data...\");\n    fetch(BACKEND_IP + '/blitz/getroom/' + this.state.room.id).then(res => res.json()).then(data => {\n      this.setState({\n        room: data.room\n      });\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 7\n      }\n    }, this.state.room == null && __jsx(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, \"BfBB Blitz\"), __jsx(\"h1\", {\n      style: {\n        textAlign: \"center\",\n        paddingTop: 100,\n        paddingBottom: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, \"Welcome to BfBB Blitz!\"), __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }, __jsx(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, __jsx(InputGroup.Text, {\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Display name\")), __jsx(FormControl, {\n      onChange: e => this.setState({\n        display_name_input: e.target.value\n      }),\n      defaultValue: this.state.display_name_input,\n      placeholder: \"1 - 10 characters\",\n      \"aria-label\": \"1 - 10 characters\",\n      \"aria-describedby\": \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    })), __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, __jsx(InputGroup.Prepend, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }, __jsx(InputGroup.Text, {\n      id: \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, \"Room Password\")), __jsx(FormControl, {\n      onChange: e => this.setState({\n        room_password_input: e.target.value\n      }),\n      defaultValue: this.state.room_password_input,\n      placeholder: \"The password you'll be giving your friends or your friend gave you.\",\n      \"aria-label\": \"The password you'll be giving your friends or your friend gave you.\",\n      \"aria-describedby\": \"basic-addon1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    })), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }\n    }), __jsx(Button, {\n      disabled: this.state.display_name_input.length < 1 || this.state.room_password_input.length < 1,\n      block: true,\n      variant: \"outline-primary\",\n      onClick: () => this.createRoomAndJoin(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }, \"Create Room\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }), __jsx(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }, __jsx(FormControl, {\n      onChange: e => this.setState({\n        rid_input: e.target.value\n      }),\n      defaultValue: this.state.rid_input,\n      placeholder: \"Room ID\",\n      \"aria-label\": \"Recipient's username\",\n      \"aria-describedby\": \"basic-addon2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }), __jsx(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 15\n      }\n    }, __jsx(Button, {\n      disabled: this.state.display_name_input.length < 1 || this.state.room_password_input.length < 1,\n      variant: \"outline-primary\",\n      onClick: () => this.joinRoom(this.state.rid_input),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, \"Join Room\"))), __jsx(Accordion, {\n      defaultActiveKey: \"0\",\n      style: {\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, __jsx(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, __jsx(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, __jsx(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, \"How to play\")), __jsx(Accordion.Collapse, {\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, __jsx(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, \"Blitz is an intense speed game where up to 8 players compete to be the first to collect as many objects as possible.\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, \"Rules\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }, \"The game begins when all players are ready. Everyone starts from the main menu one input away from creating a new game. Once ready, every player starts at the same time. When a player collects something, they simply click on the image to collect it. The picture can be clicked on anytime after the frame the player touched the objects. This means players that collect the object first don't neccesarily earn the points.\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, \"Each object is worth a different amount of points.:\"), __jsx(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 23\n      }\n    }, \"Spatulas: 3 points\"), __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 23\n      }\n    }, \"Socks: 2 points\")), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, \"The winner is determined after every object has been collected on the board. The winner is the player with the highest score. Players reserve the right to forfeit if they have no chance of winning.\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }\n    }, \"Certain in game cheats are allowed, see the list for more info.\"), __jsx(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }\n    }, \"Strategy\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    }, \"Maybe SpongeBob's closet isn't worth your time if you don't think you can be the first to get in. Know your limits and weigh if it's worth taking your opponents head on.\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 21\n      }\n    }, \"Know your opponents and what spatulas they might go for. If your player is simply following the 100 percent route, try skipping ahead and beating them to the parts of the route they will eventually arrive at.\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, \"Learn the board. The Socks and Spatulas are in level order.\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 21\n      }\n    }, \"Competing head on for collectables is high risk high reward. If you get to it before your opponent, you have wasted their time. In a game with 8 players, it might be good to snipe the leaders collectables to prevent them from gaining an even bigger lead.\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 21\n      }\n    }, \"Mix it up. People will learn your favorite collectables and try to sabotage you through such.\")))), __jsx(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, __jsx(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }\n    }, __jsx(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 19\n      }\n    }, \"Allowed in game cheats\")), __jsx(Accordion.Collapse, {\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 17\n      }\n    }, __jsx(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 19\n      }\n    }, \"The following IGC are allowed to be entered as many times or at any point during the game:\", __jsx(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }, __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 23\n      }\n    }, \"10 Gold Spatulas\"), __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 23\n      }\n    }, \"1,000 Shiny Objects\"), __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 23\n      }\n    }, \"Bubble Bowl Power\"), __jsx(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 23\n      }\n    }, \"Cruise Bubble Power\"))))))), this.state.room != null && __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }\n    }, __jsx(\"title\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }\n    }, \"BfBB Blitz: Room \", this.state.room.id), __jsx(Alert, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }\n    }, this.state.room.players.length, \"/8 players. Invite more with: \", __jsx(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 77\n      }\n    }, this.state.room.id)), __jsx(BlitzBoard, {\n      pid: this.state.player_id,\n      room: this.state.room,\n      collect_function: this.collect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/stephen/Desktop/BFBB_Client/frontend-nextjs/pages/blitz.js"],"names":["React","axios","BlitzBoard","Button","InputGroup","FormControl","Container","Col","Row","Alert","Accordion","Card","BACKEND_IP","POLLING_RATE_MILLI_SECONDS","Index","Component","constructor","props","collectable_name","data","pid","state","player_id","rid","room","id","secret","options","method","headers","body","JSON","stringify","fetch","then","res","json","success","setState","console","log","board","tasks","rid_input","room_password_input","display_name_input","componentDidMount","Array","map","i","Math","random","toString","join","createRoomAndJoin","dn","interval","setInterval","refreshRoom","joinRoom","render","textAlign","paddingTop","paddingBottom","e","target","value","length","color","players","collect"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport BlitzBoard from '../components/BlitzBoard.js'\nimport { Button, InputGroup, FormControl, Container, Col, Row, Alert, Accordion, Card } from 'react-bootstrap'\n\n//const BACKEND_IP = \"https://bfbbhub.herokuapp.com\";\nconst BACKEND_IP = \"http://172.16.127.245:3001\";\n\nconst POLLING_RATE_MILLI_SECONDS = 1000;\n\nexport default class Index extends React.Component {\n\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      board: { tasks: [] },\n      room: null,\n      player_id: \"\",\n      rid_input: \"\",\n      room_password_input:\"\",\n      display_name_input: \"\",\n      secret: \"\",\n    }\n  }\n\n  collect  = (collectable_name) =>{\n\n    let data = { pid: this.state.player_id, rid: this.state.room.id, collectable_name: collectable_name, secret:this.state.secret }\n\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }\n\n\n    fetch(BACKEND_IP+'/blitz/collect', options)\n      .then(res => res.json())\n      .then(data => {\n        if (data.success){\n          this.setState({room: data.room});\n        }\n        console.log(data)\n      });\n  }\n\n  componentDidMount() {\n    //Give the player an id\n    this.setState({ player_id: [...Array(16)].map(i => (~~(Math.random() * 36)).toString(36)).join('') });\n\n  }\n\n  createRoomAndJoin() {\n\n    let data = { pid: this.state.player_id, dn: this.state.display_name_input }\n\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }\n\n\n    fetch(BACKEND_IP + '/blitz/createroom', options)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({ room: data.room })\n        this.setState({secret: data.secret})\n        //Get new room data\n        const interval = setInterval(() => {\n          this.refreshRoom();\n        }, POLLING_RATE_MILLI_SECONDS);\n      });\n  }\n\n  joinRoom(rid) {\n    let data = { pid: this.state.player_id, rid: rid, dn: this.state.display_name_input }\n\n    let options = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    }\n\n\n    fetch(BACKEND_IP + '/blitz/joinroom', options)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({ room: data.room })\n        this.setState({ secret: data.secret })\n        //Get new room data\n        const interval = setInterval(() => {\n          this.refreshRoom();\n        }, POLLING_RATE_MILLI_SECONDS);\n      });\n  }\n\n  //Refreshes your room periodically\n  refreshRoom() {\n    if (this.state.room == null) return; //whered the room go?\n    console.log(\"Getting new room data...\")\n\n    fetch(BACKEND_IP + '/blitz/getroom/' + this.state.room.id)\n      .then(res => res.json())\n      .then(data => {\n        this.setState({ room: data.room })\n      });\n  }\n\n\n  render() {\n    return (\n      <div>\n\n        {this.state.room == null &&\n          <Container>\n            <title>BfBB Blitz</title>\n            <h1 style={{textAlign:\"center\", paddingTop:100,paddingBottom:100}}>\n              Welcome to BfBB Blitz!\n            </h1>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"basic-addon1\">Display name</InputGroup.Text>\n              </InputGroup.Prepend>\n              <FormControl onChange={e => this.setState({ display_name_input: e.target.value })} defaultValue={this.state.display_name_input}\n                placeholder=\"1 - 10 characters\"\n                aria-label=\"1 - 10 characters\"\n                aria-describedby=\"basic-addon1\"\n                \n              />\n            </InputGroup>\n            <InputGroup className=\"mb-3\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"basic-addon1\">Room Password</InputGroup.Text>\n              </InputGroup.Prepend>\n              <FormControl onChange={e => this.setState({ room_password_input: e.target.value })} defaultValue={this.state.room_password_input}\n                placeholder=\"The password you'll be giving your friends or your friend gave you.\"\n                aria-label=\"The password you'll be giving your friends or your friend gave you.\"\n                aria-describedby=\"basic-addon1\"\n              />\n            </InputGroup>\n            <br></br>\n\n            <Button disabled={this.state.display_name_input.length < 1 || this.state.room_password_input.length < 1} block variant=\"outline-primary\" onClick={() => this.createRoomAndJoin()}>Create Room</Button>\n            <br></br>\n            <InputGroup className=\"mb-3\">\n\n              <FormControl onChange={e => this.setState({ rid_input: e.target.value })} defaultValue={this.state.rid_input}\n                placeholder=\"Room ID\"\n                aria-label=\"Recipient's username\"\n                aria-describedby=\"basic-addon2\"\n              />\n              <InputGroup.Append>\n                <Button disabled={this.state.display_name_input.length < 1 || this.state.room_password_input.length < 1} variant=\"outline-primary\" onClick={() => this.joinRoom(this.state.rid_input)}>Join Room</Button>\n              </InputGroup.Append>\n            </InputGroup>\n\n            <Accordion defaultActiveKey=\"0\" style={{color:\"black\"}}>\n              <Card>\n                <Card.Header>\n                  <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n                    How to play\n                  </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"1\">\n                  <Card.Body>\n                    <p>\n                      Blitz is an intense speed game where up to 8 players compete to be the first to collect as many objects as possible.\n                    </p>\n                    <h2>\n                      Rules\n                    </h2>\n                    <p>\n                      The game begins when all players are ready. Everyone starts from the main menu one input away from creating a new game. Once\n                      ready, every player starts at the same time. When a player collects something, they simply click on the image to collect it.\n                      The picture can be clicked on anytime after the frame the player touched the objects. This means players that collect the object\n                      first don't neccesarily earn the points.\n                    </p>\n                    <p>\n                      Each object is worth a different amount of points.:\n                    </p>\n                    <ul>\n                      <li>Spatulas: 3 points</li>\n                      <li>Socks: 2 points</li>\n                    </ul>\n                    <p>\n                      The winner is determined after every object has been collected on the board. The winner is the player with the highest score. Players\n                      reserve the right to forfeit if they have no chance of winning.\n                    </p>\n                    <p>\n                      Certain in game cheats are allowed, see the list for more info.\n                    </p>\n                    <h2>\n                      Strategy\n                    </h2>\n                    <p>\n                      Maybe SpongeBob's closet isn't worth your time if you don't think you can be the first to get in. Know your limits and weigh if it's worth\n                      taking your opponents head on.\n                    </p>\n                    <p>\n                      Know your opponents and what spatulas they might go for. If your player is simply following the 100 percent route, try skipping ahead\n                      and beating them to the parts of the route they will eventually arrive at.\n                    </p>\n                    <p>\n                      Learn the board. The Socks and Spatulas are in level order.\n                    </p>\n                    <p>\n                      Competing head on for collectables is high risk high reward. If you get to it before your opponent, you have wasted their time. In\n                      a game with 8 players, it might be good to snipe the leaders collectables to prevent them from gaining an even bigger lead.\n                    </p>\n                    <p>\n                      Mix it up. People will learn your favorite collectables and try to sabotage you through such.\n                    </p>\n                    \n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n              <Card>\n                <Card.Header>\n                  <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\n                    Allowed in game cheats\n                  </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"2\">\n                  <Card.Body>\n                    The following IGC are allowed to be entered as many times or at any point during the game:\n                    <ul>\n                      <li>10 Gold Spatulas</li>\n                      <li>1,000 Shiny Objects</li>\n                      <li>Bubble Bowl Power</li>\n                      <li>Cruise Bubble Power</li>\n                    </ul>\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            </Accordion>\n\n          </Container>}\n        {this.state.room != null &&\n          <div>\n            <title>BfBB Blitz: Room {this.state.room.id}</title>\n            <Alert variant=\"primary\">\n              {this.state.room.players.length}/8 players. Invite more with: <b>{this.state.room.id}</b>\n            </Alert>\n            <BlitzBoard pid={this.state.player_id} room={this.state.room} collect_function={this.collect}></BlitzBoard>\n\n          </div>}\n\n\n\n\n      </div>\n\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}