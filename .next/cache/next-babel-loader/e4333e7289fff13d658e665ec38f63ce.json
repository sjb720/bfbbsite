{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/stephen/Desktop/Taras web app/frontend-nextjs/components/Map.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from 'react';\nimport ReactMapGL from 'react-map-gl';\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inherits(Map, _Component);\n\n  var _super = _createSuper(Map);\n\n  function Map() {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      viewport: {\n        width: '100vw',\n        height: '100vh',\n        latitude: 38.9868,\n        longitude: -77.0325,\n        zoom: 13,\n        geojson: {}\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var map = this.reactMap.getMap();\n      map.on('load', function () {\n        fetch('http://localhost:3001/taras/coordinates/geojson').then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          return map.addSource('crash-data', {\n            \"type\": \"geojson\",\n            \"data\": {\n              \"type\": \"Feature\",\n              \"geometry\": {\n                \"type\": \"Point\",\n                \"coordinates\": [-77.0323, 38.9131]\n              },\n              \"properties\": {\n                \"title\": \"Mapbox DC\",\n                \"marker-symbol\": \"monument\"\n              }\n            }\n          });\n        });\n      });\n    }\n  }, {\n    key: \"displayDataOnMap\",\n    value: function displayDataOnMap(geojson) {\n      map.addLayer({\n        'id': 'points',\n        'type': 'symbol',\n        'source': 'crash-data',\n        'layout': {\n          'icon-image': 'custom-marker',\n          // get the title name from the source's \"title\" property\n          'text-field': ['get', 'title'],\n          'text-font': ['Open Sans Semibold', 'Arial Unicode MS Bold'],\n          'text-offset': [0, 1.25],\n          'text-anchor': 'top'\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(ReactMapGL, _extends({\n        ref: function ref(reactMap) {\n          return _this2.reactMap = reactMap;\n        },\n        mapStyle: \"mapbox://styles/mapbox/streets-v9\",\n        mapboxApiAccessToken: \"pk.eyJ1IjoieW9tYW40NyIsImEiOiJjampxM2g3YjUyMzFyM3ZvMXNjZ2R3d2ZtIn0.r0zXd8hAqa1haG3lkjlDwA\",\n        onViewportChange: function onViewportChange(viewport) {\n          return _this2.setState({\n            viewport: viewport\n          });\n        }\n      }, this.state.viewport, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }\n      }));\n    }\n  }]);\n\n  return Map;\n}(Component);\n\nexport default Map;","map":{"version":3,"sources":["/home/stephen/Desktop/Taras web app/frontend-nextjs/components/Map.js"],"names":["Component","ReactMapGL","Map","viewport","width","height","latitude","longitude","zoom","geojson","map","reactMap","getMap","on","fetch","then","res","json","data","addSource","addLayer","setState","state"],"mappings":";;;;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,UAAP,MAAuB,cAAvB;;IAEMC,G;;;;;;;;;;;;;;;;4DACI;AACNC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,KAAK,EAAE,OADC;AAERC,QAAAA,MAAM,EAAE,OAFA;AAGRC,QAAAA,QAAQ,EAAE,OAHF;AAIRC,QAAAA,SAAS,EAAE,CAAC,OAJJ;AAKRC,QAAAA,IAAI,EAAE,EALE;AAMRC,QAAAA,OAAO,EAAE;AAND;AADJ,K;;;;;;;wCAWY;AAElB,UAAMC,GAAG,GAAG,KAAKC,QAAL,CAAcC,MAAd,EAAZ;AAEAF,MAAAA,GAAG,CAACG,EAAJ,CAAO,MAAP,EAAe,YAAM;AACjBC,QAAAA,KAAK,CAAC,iDAAD,CAAL,CACCC,IADD,CACM,UAAAC,GAAG;AAAA,iBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,SADT,EAECF,IAFD,CAEM,UAAAG,IAAI;AAAA,iBAAIR,GAAG,CAACS,SAAJ,CAAc,YAAd,EAA2B;AACrC,oBAAQ,SAD6B;AAErC,oBAAQ;AACR,sBAAQ,SADA;AAER,0BAAY;AACZ,wBAAQ,OADI;AAEZ,+BAAe,CAAC,CAAC,OAAF,EAAW,OAAX;AAFH,eAFJ;AAMR,4BAAc;AACd,yBAAS,WADK;AAEd,iCAAiB;AAFH;AANN;AAF6B,WAA3B,CAAJ;AAAA,SAFV;AAeH,OAhBD;AAmBD;;;qCAEgBV,O,EAAQ;AAEvBC,MAAAA,GAAG,CAACU,QAAJ,CAAa;AACT,cAAM,QADG;AAET,gBAAQ,QAFC;AAGT,kBAAU,YAHD;AAIT,kBAAU;AACV,wBAAc,eADJ;AAEV;AACA,wBAAc,CAAC,KAAD,EAAQ,OAAR,CAHJ;AAIV,uBAAa,CACb,oBADa,EAEb,uBAFa,CAJH;AAQV,yBAAe,CAAC,CAAD,EAAI,IAAJ,CARL;AASV,yBAAe;AATL;AAJD,OAAb;AAkBD;;;6BAEQ;AAAA;;AACP,aACE,MAAC,UAAD;AACE,QAAA,GAAG,EAAE,aAACT,QAAD;AAAA,iBAAc,MAAI,CAACA,QAAL,GAAgBA,QAA9B;AAAA,SADP;AAEE,QAAA,QAAQ,EAAC,mCAFX;AAGE,QAAA,oBAAoB,EAAC,2FAHvB;AAIE,QAAA,gBAAgB,EAAE,0BAACR,QAAD;AAAA,iBAAc,MAAI,CAACkB,QAAL,CAAc;AAAElB,YAAAA,QAAQ,EAARA;AAAF,WAAd,CAAd;AAAA;AAJpB,SAKM,KAAKmB,KAAL,CAAWnB,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD;;;;EArEeH,S;;AAwElB,eAAeE,GAAf","sourcesContent":["import { Component } from 'react';\nimport ReactMapGL from 'react-map-gl';\n\nclass Map extends Component {\n  state = {\n    viewport: {\n      width: '100vw',\n      height: '100vh',\n      latitude: 38.9868,\n      longitude: -77.0325,\n      zoom: 13,\n      geojson: {}\n    }\n  };\n\n  componentDidMount() {\n\n    const map = this.reactMap.getMap(); \n\n    map.on('load', () => {\n        fetch('http://localhost:3001/taras/coordinates/geojson')\n        .then(res => res.json())\n        .then(data => map.addSource('crash-data',{\n            \"type\": \"geojson\",\n            \"data\": {\n            \"type\": \"Feature\",\n            \"geometry\": {\n            \"type\": \"Point\",\n            \"coordinates\": [-77.0323, 38.9131]\n            },\n            \"properties\": {\n            \"title\": \"Mapbox DC\",\n            \"marker-symbol\": \"monument\"\n            }\n            }}));\n    })\n\n    \n  }\n\n  displayDataOnMap(geojson){\n\n    map.addLayer({\n        'id': 'points',\n        'type': 'symbol',\n        'source': 'crash-data',\n        'layout': {\n        'icon-image': 'custom-marker',\n        // get the title name from the source's \"title\" property\n        'text-field': ['get', 'title'],\n        'text-font': [\n        'Open Sans Semibold',\n        'Arial Unicode MS Bold'\n        ],\n        'text-offset': [0, 1.25],\n        'text-anchor': 'top'\n        }\n        });\n        \n\n  }\n\n  render() {\n    return (\n      <ReactMapGL\n        ref={(reactMap) => this.reactMap = reactMap}\n        mapStyle=\"mapbox://styles/mapbox/streets-v9\"\n        mapboxApiAccessToken=\"pk.eyJ1IjoieW9tYW40NyIsImEiOiJjampxM2g3YjUyMzFyM3ZvMXNjZ2R3d2ZtIn0.r0zXd8hAqa1haG3lkjlDwA\"\n        onViewportChange={(viewport) => this.setState({ viewport })}\n        {...this.state.viewport}\n      />\n    );\n  }\n}\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}